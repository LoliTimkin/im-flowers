{"version":3,"file":"src_app_views_order_order_module_ts.js","mappings":"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","sources":["./src/app/views/order/cart/cart.component.ts","./src/app/views/order/cart/cart.component.html","./src/app/views/order/order-routing.module.ts","./src/app/views/order/order.module.ts","./src/app/views/order/order/order.component.ts","./src/app/views/order/order/order.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {OwlOptions} from \"ngx-owl-carousel-o\";\nimport {ProductService} from \"../../../shared/services/product.service\";\nimport {ProductType} from \"../../../../types/product\";\nimport {CartService} from \"../../../shared/services/cart.service\";\nimport {CartType} from \"../../../../types/cart.type\";\nimport {environment} from \"../../../../environments/environment\";\n\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.scss']\n})\nexport class CartComponent implements OnInit {\n\n  customOptions: OwlOptions = {\n    loop: true,\n    mouseDrag: false,\n    touchDrag: false,\n    pullDrag: false,\n    dots: false,\n    navSpeed: 700,\n    navText: ['', ''],\n    responsive: {\n      0: {\n        items: 1\n      },\n      400: {\n        items: 2\n      },\n      740: {\n        items: 3\n      },\n      940: {\n        items: 4\n      }\n    },\n    nav: false\n  }\n\n  extraProducts: ProductType[]= [];\n  cart: CartType | null = null;\n  serverStaticPath: string = environment.serverStaticPath;\n  totalAmount: number = 0;\n  totalCount: number = 0;\n\n  constructor(private productService: ProductService, private cartService: CartService) { }\n\n  ngOnInit(): void {\n\n    this.productService.getBestProducts()\n      .subscribe((data: ProductType[]) => {\n        this.extraProducts = data;\n      });\n\n    this.cartService.getCart()\n      .subscribe((data: CartType) => {\n        this.cart = data;\n        this.calculateTotal()\n      })\n\n  }\n\n\n  calculateTotal() {\n    this.totalAmount = 0;\n    this.totalCount = 0;\n      if(this.cart) {\n        this.cart.items.forEach(item => {\n          this.totalAmount += item.quantity * item.product.price;\n          this.totalCount += item.quantity\n        })\n      }\n  }\n\n  updateCount(id: string, count: number) {\n    if(this.cart) {\n      this.cartService.updateCart(id, count)\n        .subscribe((data: CartType) => {\n          this.cart = data;\n          this.calculateTotal()\n        })\n    }\n  }\n\n}\n","<div class=\"cart\" *ngIf=\"cart\">\n  <div class=\"container\">\n    <div class=\"cart-title\">\n      Корзина\n    </div>\n    <div class=\"cart-empty\" *ngIf=\"!cart || cart.items.length === 0\">\n      <div>\n        В корзине нет товаров\n      </div>\n      <button class=\"button\" routerLink=\"/catalog\">В каталог</button>\n    </div>\n    <div class=\"cart-info\" *ngIf=\"cart && cart.items.length > 0\">\n      <div class=\"cart-products\">\n        <div class=\"cart-product\" *ngFor=\"let cartProduct of cart.items\">\n          <div class=\"cart-product-image\" style=\"background-image: url('{{serverStaticPath + cartProduct.product.image}}')\"> </div>\n          <div class=\"cart-product-name\">{{cartProduct.product.name}}</div>\n          <count-selector [count]=\"cartProduct.quantity\" (onCountChange)=\"updateCount(cartProduct.product.id, $event)\"></count-selector>\n          <div class=\"cart-product-price\">{{cartProduct.product.price}} BYN</div>\n          <div class=\"cart-product-remove\" (click)=\"updateCount(cartProduct.product.id, 0)\">\n            <svg width=\"14\" height=\"15\" viewBox=\"0 0 14 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <line x1=\"0.935622\" y1=\"1.50635\" x2=\"12.9564\" y2=\"13.5272\" stroke=\"#A8ABA7\" stroke-linecap=\"round\"/>\n              <line x1=\"12.9238\" y1=\"1.4864\" x2=\"0.903013\" y2=\"13.5072\" stroke=\"#A8ABA7\" stroke-linecap=\"round\"/>\n            </svg>\n          </div>\n        </div>\n      </div>\n      <div class=\"cart-details\">\n        <div class=\"cart-details-info\">\n          <div class=\"cart-details-info-title\">Ваш заказ</div>\n          <div class=\"cart-details-info-item first\">\n            <div class=\"cart-details-info-item-text\">Товаров:</div>\n            <div class=\"cart-details-info-item-data\">{{totalCount}}</div>\n          </div>\n          <div class=\"cart-details-info-item\">\n            <div class=\"cart-details-info-item-text\">Общая стоимость:</div>\n            <div class=\"cart-details-info-item-data\">{{totalAmount}} BYN</div>\n          </div>\n          <div class=\"cart-details-info-delivery\">\n            * без учета доставки\n          </div>\n        </div>\n        <div class=\"cart-details-action\">\n          <button class=\"button button-transparent\" routerLink=\"/catalog\">Продолжить покупки</button>\n          <button class=\"button\" routerLink=\"/order\">Оформить заказ</button>\n        </div>\n      </div>\n    </div>\n    <div class=\"extra-products\">\n        <div class=\"carousel-header\">\n          <div class=\"carousel-title\">\n            С этими товарами также покупают\n          </div>\n          <div class=\"carousel-arrows\">\n            <div class=\"move-backward\" (click)=\"owlCar.prev()\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M10.5561 15C10.4013 15 10.2465 14.9435 10.1243 14.8224L4.8127 9.55746C3.94915 8.70151 3.94915 7.29647 4.8127 6.44052L10.1243 1.17563C10.3606 0.941456 10.7516 0.941456 10.9879 1.17563C11.2241 1.40981 11.2241 1.7974 10.9879 2.03158L5.67624 7.29647C5.2852 7.68407 5.2852 8.31392 5.67624 8.70151L10.9879 13.9664C11.2241 14.2006 11.2241 14.5882 10.9879 14.8224C10.8657 14.9354 10.7109 15 10.5561 15Z\" fill=\"#202B21\"/>\n              </svg>\n            </div>\n            <div class=\"move-forward\" (click)=\"owlCar.next()\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M5.44392 1C5.59871 1 5.75349 1.05652 5.87569 1.17765L11.1873 6.44254C12.0508 7.29849 12.0508 8.70353 11.1873 9.55948L5.87569 14.8244C5.63944 15.0585 5.2484 15.0585 5.01215 14.8244C4.7759 14.5902 4.7759 14.2026 5.01215 13.9684L10.3238 8.70353C10.7148 8.31593 10.7148 7.68608 10.3238 7.29849L5.01215 2.0336C4.7759 1.79942 4.7759 1.41182 5.01215 1.17765C5.13435 1.0646 5.28914 1 5.44392 1Z\" fill=\"#202B21\"/>\n              </svg>\n            </div>\n          </div>\n        </div>\n        <div class=\"carousel-items\">\n          <owl-carousel-o [options]=\"customOptions\" #owlCar>\n            <ng-template carouselSlide *ngFor=\"let product of extraProducts\" >\n              <product-card [isLight]=\"true\" [product]=\"product\"></product-card>\n            </ng-template>\n          </owl-carousel-o>\n        </div>\n    </div>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport {CartComponent} from \"./cart/cart.component\";\nimport {OrderComponent} from \"./order/order.component\";\n\nconst routes: Routes = [\n  {path: 'cart', component: CartComponent},\n  {path: 'order', component: OrderComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class OrderRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { OrderRoutingModule } from './order-routing.module';\nimport { CartComponent } from './cart/cart.component';\nimport { OrderComponent } from './order/order.component';\nimport {SharedModule} from \"../../shared/shared.module\";\nimport {CarouselModule} from \"ngx-owl-carousel-o\";\n\n\n@NgModule({\n  declarations: [\n    CartComponent,\n    OrderComponent\n  ],\n  imports: [\n    CommonModule,\n    OrderRoutingModule,\n    SharedModule,\n    CarouselModule\n  ]\n})\nexport class OrderModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-order',\n  templateUrl: './order.component.html',\n  styleUrls: ['./order.component.scss']\n})\nexport class OrderComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>order works!</p>\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}